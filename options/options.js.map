{
  "version": 3,
  "sources": ["../src/config/constants.js", "../src/utils/logger.js", "../src/utils/storage.js", "../src/config/config.js", "../src/utils/rules.js", "../src/utils/helpers.js", "../src/options/options.js"],
  "sourcesContent": ["/**\r\n * Constants and configuration values for the Privacy Shield extension\r\n * @module constants\r\n */\r\n\r\n/**\r\n * Default badge color for the extension icon\r\n * @constant {string}\r\n */\r\nexport const BADGE_COLOR = '#6366f1';\r\n\r\n/**\r\n * Maximum text length to consider for hiding (characters)\r\n * @constant {number}\r\n */\r\nexport const MAX_TEXT_LENGTH_SMALL = 100;\r\n\r\n/**\r\n * Maximum text length for parent element (characters)\r\n * @constant {number}\r\n */\r\nexport const MAX_TEXT_LENGTH_LARGE = 200;\r\n\r\n/**\r\n * Maximum preview text length for hidden items (characters)\r\n * @constant {number}\r\n */\r\nexport const PREVIEW_TEXT_LENGTH = 50;\r\n\r\n/**\r\n * Debounce delay for saving hidden items (milliseconds)\r\n * @constant {number}\r\n */\r\nexport const SAVE_DEBOUNCE_DELAY = 500;\r\n\r\n/**\r\n * Toast display duration (milliseconds)\r\n * @constant {number}\r\n */\r\nexport const TOAST_DURATION = 3000;\r\n\r\n/**\r\n * Toast animation duration (milliseconds)\r\n * @constant {number}\r\n */\r\nexport const TOAST_ANIMATION_DURATION = 300;\r\n\r\n/**\r\n * Default user rules structure\r\n * @constant {Object}\r\n */\r\nexport const DEFAULT_USER_RULES = {\r\n  keywords: [],\r\n  patterns: []\r\n};\r\n\r\n/**\r\n * Storage keys used by the extension\r\n * @constant {Object}\r\n */\r\nexport const STORAGE_KEYS = {\r\n  IS_PAUSED: 'isPaused',\r\n  HIDDEN_COUNT: 'hiddenCount',\r\n  HIDDEN_ITEMS: 'hiddenItems',\r\n  USER_RULES: 'userRules',\r\n  DOMAIN_RULES: 'domainRules'\r\n};\r\n\r\n/**\r\n * Message types for chrome.runtime messaging\r\n * @constant {Object}\r\n */\r\nexport const MESSAGE_TYPES = {\r\n  UPDATE_COUNT: 'UPDATE_COUNT',\r\n  GET_RULES: 'GET_RULES',\r\n  SAVE_RULES: 'SAVE_RULES'\r\n};\r\n\r\n/**\r\n * Configuration version for import/export\r\n * @constant {string}\r\n */\r\nexport const CONFIG_VERSION = '1.0';\r\n", "/**\r\n * Logger utility for unified error handling and logging\r\n * @module logger\r\n */\r\n\r\n/**\r\n * Log levels\r\n * @enum {string}\r\n */\r\nconst LogLevel = {\r\n  ERROR: 'ERROR',\r\n  WARN: 'WARN',\r\n  INFO: 'INFO',\r\n  DEBUG: 'DEBUG'\r\n};\r\n\r\n/**\r\n * Extension name prefix for log messages\r\n * @constant {string}\r\n */\r\nconst LOG_PREFIX = '[Privacy Shield]';\r\n\r\n/**\r\n * Logger class for unified logging across the extension\r\n */\r\nclass Logger {\r\n  /**\r\n   * Log an error message\r\n   * @param {string} message - The error message\r\n   * @param {Error|any} [error] - Optional error object or additional data\r\n   */\r\n  static error(message, error = null) {\r\n    console.error(`${LOG_PREFIX} ${message}`, error || '');\r\n  }\r\n\r\n  /**\r\n   * Log a warning message\r\n   * @param {string} message - The warning message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static warn(message, data = null) {\r\n    console.warn(`${LOG_PREFIX} ${message}`, data || '');\r\n  }\r\n\r\n  /**\r\n   * Log an info message\r\n   * @param {string} message - The info message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static info(message, data = null) {\r\n    console.info(`${LOG_PREFIX} ${message}`, data || '');\r\n  }\r\n\r\n  /**\r\n   * Log a debug message\r\n   * @param {string} message - The debug message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static debug(message, data = null) {\r\n    console.debug(`${LOG_PREFIX} ${message}`, data || '');\r\n  }\r\n\r\n  /**\r\n   * Log a message with a specific level\r\n   * @param {string} level - The log level\r\n   * @param {string} message - The message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static log(level, message, data = null) {\r\n    const logMethod = console[level.toLowerCase()] || console.log;\r\n    logMethod.call(console, `${LOG_PREFIX} [${level}] ${message}`, data || '');\r\n  }\r\n}\r\n\r\nexport { Logger };\r\n", "/**\r\n * Storage Manager for unified storage operations\r\n * @module storage\r\n */\r\n\r\nimport { STORAGE_KEYS, DEFAULT_USER_RULES } from '../config/constants.js';\r\nimport { Logger } from './logger.js';\r\n\r\n/**\r\n * StorageManager class for handling chrome.storage operations\r\n */\r\nexport class StorageManager {\r\n  /**\r\n   * Get a value from storage\r\n   * @param {string|string[]} keys - Storage key(s) to retrieve\r\n   * @returns {Promise<Object>} The stored values\r\n   */\r\n  static async get(keys) {\r\n    try {\r\n      return await chrome.storage.local.get(keys);\r\n    } catch (error) {\r\n      Logger.error('Failed to get from storage', error);\r\n      return {};\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set values in storage\r\n   * @param {Object} items - Key-value pairs to store\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async set(items) {\r\n    try {\r\n      await chrome.storage.local.set(items);\r\n      return true;\r\n    } catch (error) {\r\n      Logger.error('Failed to set storage', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove keys from storage\r\n   * @param {string|string[]} keys - Key(s) to remove\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async remove(keys) {\r\n    try {\r\n      await chrome.storage.local.remove(keys);\r\n      return true;\r\n    } catch (error) {\r\n      Logger.error('Failed to remove from storage', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the paused state\r\n   * @returns {Promise<boolean>} True if paused\r\n   */\r\n  static async getIsPaused() {\r\n    const result = await this.get(STORAGE_KEYS.IS_PAUSED);\r\n    return result[STORAGE_KEYS.IS_PAUSED] || false;\r\n  }\r\n\r\n  /**\r\n   * Set the paused state\r\n   * @param {boolean} isPaused - The paused state\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setIsPaused(isPaused) {\r\n    return await this.set({ [STORAGE_KEYS.IS_PAUSED]: isPaused });\r\n  }\r\n\r\n  /**\r\n   * Get user rules\r\n   * @returns {Promise<Object>} The user rules\r\n   */\r\n  static async getUserRules() {\r\n    const result = await this.get(STORAGE_KEYS.USER_RULES);\r\n    return result[STORAGE_KEYS.USER_RULES] || DEFAULT_USER_RULES;\r\n  }\r\n\r\n  /**\r\n   * Set user rules\r\n   * @param {Object} userRules - The user rules to save\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setUserRules(userRules) {\r\n    return await this.set({ [STORAGE_KEYS.USER_RULES]: userRules });\r\n  }\r\n\r\n  /**\r\n   * Get domain rules\r\n   * @returns {Promise<Object|null>} The domain rules or null\r\n   */\r\n  static async getDomainRules() {\r\n    const result = await this.get(STORAGE_KEYS.DOMAIN_RULES);\r\n    return result[STORAGE_KEYS.DOMAIN_RULES] || null;\r\n  }\r\n\r\n  /**\r\n   * Set domain rules\r\n   * @param {Object} domainRules - The domain rules to save\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setDomainRules(domainRules) {\r\n    return await this.set({ [STORAGE_KEYS.DOMAIN_RULES]: domainRules });\r\n  }\r\n\r\n  /**\r\n   * Get hidden count\r\n   * @returns {Promise<number>} The number of hidden items\r\n   */\r\n  static async getHiddenCount() {\r\n    const result = await this.get(STORAGE_KEYS.HIDDEN_COUNT);\r\n    return result[STORAGE_KEYS.HIDDEN_COUNT] || 0;\r\n  }\r\n\r\n  /**\r\n   * Set hidden count and items\r\n   * @param {number} count - The count of hidden items\r\n   * @param {Array<string>} items - The hidden items\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setHiddenData(count, items) {\r\n    return await this.set({\r\n      [STORAGE_KEYS.HIDDEN_COUNT]: count,\r\n      [STORAGE_KEYS.HIDDEN_ITEMS]: items\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get hidden items\r\n   * @returns {Promise<Array<string>>} The hidden items\r\n   */\r\n  static async getHiddenItems() {\r\n    const result = await this.get(STORAGE_KEYS.HIDDEN_ITEMS);\r\n    return result[STORAGE_KEYS.HIDDEN_ITEMS] || [];\r\n  }\r\n\r\n  /**\r\n   * Initialize storage with default values if not set\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async initialize() {\r\n    try {\r\n      const result = await this.get(STORAGE_KEYS.USER_RULES);\r\n      if (!result[STORAGE_KEYS.USER_RULES]) {\r\n        await this.set({\r\n          [STORAGE_KEYS.USER_RULES]: DEFAULT_USER_RULES,\r\n          [STORAGE_KEYS.IS_PAUSED]: false\r\n        });\r\n      }\r\n      return true;\r\n    } catch (error) {\r\n      Logger.error('Failed to initialize storage', error);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n", "/**\r\n * Domain configuration for the Privacy Shield extension\r\n * @module config\r\n */\r\n\r\n/**\r\n * Supported domains configuration\r\n * Each domain entry contains matching patterns, selectors, and settings\r\n * @constant {Object}\r\n */\r\nexport const SUPPORTED_DOMAINS = {\r\n  google: {\r\n    name: 'Google Search',\r\n    matches: ['www.google.com', 'www.google.co.jp'],\r\n    enabled: true,\r\n    selectors: ['.O4T6Pe', '.vqkKIe', '.eKPi4', 'update-location', '.dfB0uf']\r\n  },\r\n  gemini: {\r\n    name: 'Google Gemini',\r\n    matches: ['gemini.google.com'],\r\n    enabled: true,\r\n    selectors: ['location-footer', '.location-menu-item-container']\r\n  },\r\n  amazon: {\r\n    name: 'Amazon.co.jp',\r\n    matches: ['www.amazon.co.jp'],\r\n    enabled: true,\r\n    selectors: [\r\n      '#nav-global-location-popover-link',\r\n      '#glow-ingress-block',\r\n      '#contextualIngressPtLink',\r\n      '#contextualIngressPtLabel',\r\n      '#contextualIngressPtLabel_deliveryShortLine',\r\n      '.insert-encrypted-trigger-text'\r\n    ]\r\n  }\r\n};\r\n\r\n/**\r\n * Domain display name mappings for friendly names\r\n * @constant {Object}\r\n */\r\nexport const DOMAIN_DISPLAY_NAMES = {\r\n  'gemini.google.com': 'Google Gemini',\r\n  'google.com': 'Google Search',\r\n  'google.co.jp': 'Google Search',\r\n  'amazon.co.jp': 'Amazon.co.jp'\r\n};\r\n\r\n/**\r\n * List of supported domain patterns for quick checks\r\n * @constant {Array<string>}\r\n */\r\nexport const SUPPORTED_DOMAIN_PATTERNS = Object.values(SUPPORTED_DOMAINS).flatMap(d => d.matches);\r\n\r\n/**\r\n * Get the display name for a given domain\r\n * @param {string} domain - The domain hostname\r\n * @returns {string} The friendly display name or the original domain\r\n */\r\nexport function getDomainDisplayName(domain) {\r\n  for (const [key, value] of Object.entries(DOMAIN_DISPLAY_NAMES)) {\r\n    if (domain.includes(key)) {\r\n      return value;\r\n    }\r\n  }\r\n  return domain;\r\n}\r\n\r\n/**\r\n * Check if a domain is supported\r\n * @param {string} domain - The domain hostname\r\n * @returns {boolean} True if the domain is supported\r\n */\r\nexport function isSupportedDomain(domain) {\r\n  return SUPPORTED_DOMAIN_PATTERNS.some(pattern => domain.includes(pattern));\r\n}\r\n", "/**\r\n * Rules Manager for handling domain rules and filtering logic\r\n * @module rules\r\n */\r\n\r\nimport { SUPPORTED_DOMAINS } from '../config/config.js';\r\nimport { Logger } from './logger.js';\r\nimport { StorageManager } from './storage.js';\r\n\r\n/**\r\n * RulesManager class for managing and processing rules\r\n */\r\nexport class RulesManager {\r\n  /**\r\n   * Load domain rules for the current hostname\r\n   * @param {string} hostname - The current page hostname\r\n   * @returns {Promise<Object|null>} The domain rules or null if not found\r\n   */\r\n  static async loadDomainRules(hostname) {\r\n    try {\r\n      // First try to get custom domain rules from storage\r\n      const storedRules = await StorageManager.getDomainRules();\r\n      \r\n      if (storedRules) {\r\n        for (const [key, domain] of Object.entries(storedRules)) {\r\n          if (domain.matches && domain.matches.some(m => hostname.includes(m))) {\r\n            return domain;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Fall back to default rules from rules.json\r\n      try {\r\n        const defaultRules = await fetch(chrome.runtime.getURL('rules.json')).then(r => r.json());\r\n        for (const [key, domain] of Object.entries(defaultRules.domains)) {\r\n          if (domain.matches && domain.matches.some(m => hostname.includes(m))) {\r\n            return domain;\r\n          }\r\n        }\r\n      } catch (fetchError) {\r\n        Logger.warn('Failed to fetch default rules, using built-in config', fetchError);\r\n      }\r\n\r\n      // Finally, fall back to built-in configuration\r\n      for (const [key, domain] of Object.entries(SUPPORTED_DOMAINS)) {\r\n        if (domain.matches && domain.matches.some(m => hostname.includes(m))) {\r\n          return domain;\r\n        }\r\n      }\r\n\r\n      return null;\r\n    } catch (error) {\r\n      Logger.error('Failed to load domain rules', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate a regular expression pattern\r\n   * @param {string} pattern - The regex pattern to validate\r\n   * @returns {boolean} True if valid\r\n   */\r\n  static isValidPattern(pattern) {\r\n    try {\r\n      new RegExp(pattern);\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Compile patterns into RegExp objects\r\n   * @param {Array<string>} patterns - Array of pattern strings\r\n   * @returns {Array<RegExp>} Array of compiled RegExp objects\r\n   */\r\n  static compilePatterns(patterns) {\r\n    if (!patterns || patterns.length === 0) {\r\n      return [];\r\n    }\r\n\r\n    return patterns\r\n      .map(p => {\r\n        try {\r\n          return new RegExp(p, 'g');\r\n        } catch (error) {\r\n          Logger.warn(`Invalid pattern: ${p}`, error);\r\n          return null;\r\n        }\r\n      })\r\n      .filter(Boolean);\r\n  }\r\n\r\n  /**\r\n   * Test if a pattern matches text\r\n   * @param {string} pattern - The pattern to test\r\n   * @param {string} text - The text to test against\r\n   * @returns {Array<string>|null} Array of matches or null if invalid/no match\r\n   */\r\n  static testPattern(pattern, text) {\r\n    try {\r\n      const regex = new RegExp(pattern, 'g');\r\n      return text.match(regex);\r\n    } catch (error) {\r\n      Logger.warn('Pattern test failed', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if a domain is enabled in rules\r\n   * @param {Object} domainRules - The domain rules object\r\n   * @returns {boolean} True if enabled (default true if not specified)\r\n   */\r\n  static isDomainEnabled(domainRules) {\r\n    return domainRules && domainRules.enabled !== false;\r\n  }\r\n\r\n  /**\r\n   * Get all user rules (keywords and patterns)\r\n   * @returns {Promise<Object>} User rules object with keywords and patterns arrays\r\n   */\r\n  static async getUserRules() {\r\n    return await StorageManager.getUserRules();\r\n  }\r\n\r\n  /**\r\n   * Save user rules\r\n   * @param {Object} userRules - User rules object\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async saveUserRules(userRules) {\r\n    return await StorageManager.setUserRules(userRules);\r\n  }\r\n\r\n  /**\r\n   * Save domain rules\r\n   * @param {Object} domainRules - Domain rules object\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async saveDomainRules(domainRules) {\r\n    return await StorageManager.setDomainRules(domainRules);\r\n  }\r\n}\r\n", "/**\r\n * Helper utility functions\r\n * @module helpers\r\n */\r\n\r\nimport { PREVIEW_TEXT_LENGTH } from '../config/constants.js';\r\n\r\n/**\r\n * Escape HTML special characters to prevent XSS\r\n * @param {string} text - Text to escape\r\n * @returns {string} Escaped HTML\r\n */\r\nexport function escapeHtml(text) {\r\n  const div = document.createElement('div');\r\n  div.textContent = text;\r\n  return div.innerHTML;\r\n}\r\n\r\n/**\r\n * Truncate text to a maximum length\r\n * @param {string} text - Text to truncate\r\n * @param {number} [maxLength=PREVIEW_TEXT_LENGTH] - Maximum length\r\n * @returns {string} Truncated text\r\n */\r\nexport function truncateText(text, maxLength = PREVIEW_TEXT_LENGTH) {\r\n  if (!text || text.length <= maxLength) {\r\n    return text;\r\n  }\r\n  return text.substring(0, maxLength);\r\n}\r\n\r\n/**\r\n * Debounce a function call\r\n * @param {Function} func - Function to debounce\r\n * @param {number} delay - Delay in milliseconds\r\n * @returns {Function} Debounced function\r\n */\r\nexport function debounce(func, delay) {\r\n  let timeoutId;\r\n  return function (...args) {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => func.apply(this, args), delay);\r\n  };\r\n}\r\n\r\n/**\r\n * Format a date as ISO string for export filenames\r\n * @param {Date} [date=new Date()] - Date to format\r\n * @returns {string} Formatted date string (YYYY-MM-DD)\r\n */\r\nexport function formatDateForFilename(date = new Date()) {\r\n  return date.toISOString().slice(0, 10);\r\n}\r\n\r\n/**\r\n * Create an export data object with version and timestamp\r\n * @param {Object} userRules - User rules\r\n * @param {Object} domainRules - Domain rules\r\n * @param {string} version - Config version\r\n * @returns {Object} Export data object\r\n */\r\nexport function createExportData(userRules, domainRules, version) {\r\n  return {\r\n    version,\r\n    exportedAt: new Date().toISOString(),\r\n    userRules,\r\n    domainRules\r\n  };\r\n}\r\n\r\n/**\r\n * Parse imported data and validate structure\r\n * @param {string} jsonText - JSON text to parse\r\n * @returns {Object|null} Parsed data or null if invalid\r\n */\r\nexport function parseImportData(jsonText) {\r\n  try {\r\n    const data = JSON.parse(jsonText);\r\n    // Basic validation: ensure it's a non-null object\r\n    if (typeof data !== 'object' || data === null || Array.isArray(data)) {\r\n      return null;\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Find the target element to hide by traversing up the DOM tree\r\n * @param {Node} node - Starting text node\r\n * @param {number} maxSmall - Max text length for small element\r\n * @param {number} maxLarge - Max text length for parent element\r\n * @returns {HTMLElement|null} Target element to hide or null\r\n */\r\nexport function findTargetElement(node, maxSmall, maxLarge) {\r\n  let target = node.parentElement;\r\n  if (!target) return null;\r\n\r\n  while (target && target.innerText && target.innerText.length < maxSmall) {\r\n    if (target.parentElement && target.parentElement.innerText.length < maxLarge) {\r\n      target = target.parentElement;\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\n/**\r\n * Check if element is already hidden\r\n * @param {HTMLElement} element - Element to check\r\n * @returns {boolean} True if hidden\r\n */\r\nexport function isElementHidden(element) {\r\n  return element.style.display === 'none' || element.hasAttribute('data-privacy-hidden');\r\n}\r\n\r\n/**\r\n * Wait for DOM to be ready\r\n * @returns {Promise<void>} Resolves when DOM is ready\r\n */\r\nexport function waitForDOMReady() {\r\n  return new Promise((resolve) => {\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', resolve);\r\n    } else {\r\n      resolve();\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Send a message to the background script safely\r\n * @param {Object} message - Message to send\r\n * @returns {Promise<any>} Response or null if failed\r\n */\r\nexport async function sendMessageSafely(message) {\r\n  try {\r\n    return await chrome.runtime.sendMessage(message);\r\n  } catch (error) {\r\n    // Extension context invalidated - this is expected when extension reloads\r\n    // Don't log as it's not an actual error condition\r\n    return null;\r\n  }\r\n}\r\n", "/**\r\n * Options page script for Privacy Shield extension\r\n * Manages settings, rules, and configuration interface\r\n * @module options\r\n */\r\n\r\nimport { StorageManager } from '../utils/storage.js';\r\nimport { RulesManager } from '../utils/rules.js';\r\nimport { Logger } from '../utils/logger.js';\r\nimport {\r\n  escapeHtml,\r\n  createExportData,\r\n  parseImportData,\r\n  formatDateForFilename\r\n} from '../utils/helpers.js';\r\nimport { SUPPORTED_DOMAINS } from '../config/config.js';\r\nimport { CONFIG_VERSION } from '../config/constants.js';\r\n\r\n// State variables\r\nlet userRules = { keywords: [], patterns: [] };\r\nlet domainRules = {};\r\n\r\n/**\r\n * Initialize the options page\r\n */\r\nconst init = async () => {\r\n  try {\r\n    await loadRules();\r\n    renderAll();\r\n    setupNavigation();\r\n    setupKeywordHandlers();\r\n    setupPatternHandlers();\r\n    setupDomainHandlers();\r\n    setupImportExport();\r\n  } catch (error) {\r\n    Logger.error('Failed to initialize options page', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Load rules from storage\r\n */\r\nconst loadRules = async () => {\r\n  try {\r\n    userRules = await StorageManager.getUserRules();\r\n    domainRules = (await StorageManager.getDomainRules()) || SUPPORTED_DOMAINS;\r\n  } catch (error) {\r\n    Logger.error('Failed to load rules', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Render all UI sections\r\n */\r\nconst renderAll = () => {\r\n  renderKeywords();\r\n  renderPatterns();\r\n  renderDomains();\r\n};\r\n\r\n/**\r\n * Setup navigation between sections\r\n */\r\nconst setupNavigation = () => {\r\n  const navItems = document.querySelectorAll('.nav-item');\r\n  const sections = document.querySelectorAll('.section');\r\n\r\n  navItems.forEach(item => {\r\n    item.addEventListener('click', () => {\r\n      const sectionId = item.dataset.section;\r\n\r\n      navItems.forEach(i => i.classList.remove('active'));\r\n      item.classList.add('active');\r\n\r\n      sections.forEach(s => s.classList.remove('active'));\r\n      document.getElementById(`${sectionId}-section`).classList.add('active');\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Setup keyword management handlers\r\n */\r\nconst setupKeywordHandlers = () => {\r\n  const keywordInput = document.getElementById('keywordInput');\r\n  const addKeywordBtn = document.getElementById('addKeywordBtn');\r\n\r\n  addKeywordBtn.addEventListener('click', () => addKeyword(keywordInput));\r\n  keywordInput.addEventListener('keypress', (e) => {\r\n    if (e.key === 'Enter') addKeywordBtn.click();\r\n  });\r\n};\r\n\r\n/**\r\n * Setup pattern management handlers\r\n */\r\nconst setupPatternHandlers = () => {\r\n  const patternInput = document.getElementById('patternInput');\r\n  const addPatternBtn = document.getElementById('addPatternBtn');\r\n  const testText = document.getElementById('testText');\r\n\r\n  addPatternBtn.addEventListener('click', () => addPattern(patternInput));\r\n  patternInput.addEventListener('keypress', (e) => {\r\n    if (e.key === 'Enter') addPatternBtn.click();\r\n  });\r\n\r\n  // Setup pattern tester\r\n  patternInput.addEventListener('input', () => updateTestResult(patternInput, testText));\r\n  testText.addEventListener('input', () => updateTestResult(patternInput, testText));\r\n};\r\n\r\n/**\r\n * Setup domain management handlers\r\n */\r\nconst setupDomainHandlers = () => {\r\n  // Domain toggle handlers are set up in renderDomains()\r\n};\r\n\r\n/**\r\n * Setup import/export functionality\r\n */\r\nconst setupImportExport = () => {\r\n  const exportBtn = document.getElementById('exportBtn');\r\n  const importBtn = document.getElementById('importBtn');\r\n  const importFile = document.getElementById('importFile');\r\n\r\n  exportBtn.addEventListener('click', handleExport);\r\n  importBtn.addEventListener('click', () => importFile.click());\r\n  importFile.addEventListener('change', handleImport);\r\n};\r\n\r\n/**\r\n * Add a keyword to the list\r\n * @param {HTMLInputElement} input - Keyword input element\r\n */\r\nconst addKeyword = async (input) => {\r\n  const value = input.value.trim();\r\n  if (!value) return;\r\n\r\n  if (userRules.keywords.includes(value)) {\r\n    showToast('\u3053\u306E\u30AD\u30FC\u30EF\u30FC\u30C9\u306F\u65E2\u306B\u767B\u9332\u3055\u308C\u3066\u3044\u307E\u3059', 'warning');\r\n    return;\r\n  }\r\n\r\n  userRules.keywords.push(value);\r\n  input.value = '';\r\n  await saveAndRender();\r\n  showToast('\u30AD\u30FC\u30EF\u30FC\u30C9\u3092\u8FFD\u52A0\u3057\u307E\u3057\u305F');\r\n};\r\n\r\n/**\r\n * Delete a keyword\r\n * @param {number} index - Index of keyword to delete\r\n */\r\nconst deleteKeyword = async (index) => {\r\n  userRules.keywords.splice(index, 1);\r\n  await saveAndRender();\r\n};\r\n\r\n/**\r\n * Render keywords list\r\n */\r\nconst renderKeywords = () => {\r\n  const keywordsList = document.getElementById('keywordsList');\r\n\r\n  if (userRules.keywords.length === 0) {\r\n    keywordsList.innerHTML = `\r\n      <div class=\"empty-state\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n          <circle cx=\"11\" cy=\"11\" r=\"8\"/>\r\n          <path d=\"m21 21-4.35-4.35\"/>\r\n        </svg>\r\n        <p>\u30AD\u30FC\u30EF\u30FC\u30C9\u304C\u767B\u9332\u3055\u308C\u3066\u3044\u307E\u305B\u3093</p>\r\n        <span>\u4E0A\u306E\u30D5\u30A9\u30FC\u30E0\u304B\u3089\u30AD\u30FC\u30EF\u30FC\u30C9\u3092\u8FFD\u52A0\u3057\u3066\u304F\u3060\u3055\u3044</span>\r\n      </div>\r\n    `;\r\n    return;\r\n  }\r\n\r\n  keywordsList.innerHTML = userRules.keywords\r\n    .map((keyword, index) => `\r\n      <div class=\"item-card\" data-index=\"${index}\">\r\n        <span class=\"item-text\">${escapeHtml(keyword)}</span>\r\n        <button class=\"btn btn-danger delete-keyword\" data-index=\"${index}\">\u524A\u9664</button>\r\n      </div>\r\n    `)\r\n    .join('');\r\n\r\n  // Attach event listeners\r\n  keywordsList.querySelectorAll('.delete-keyword').forEach(btn => {\r\n    btn.addEventListener('click', (e) => {\r\n      const index = parseInt(e.target.dataset.index);\r\n      deleteKeyword(index);\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Add a pattern to the list\r\n * @param {HTMLInputElement} input - Pattern input element\r\n */\r\nconst addPattern = async (input) => {\r\n  const value = input.value.trim();\r\n  if (!value) return;\r\n\r\n  if (!RulesManager.isValidPattern(value)) {\r\n    showToast('\u7121\u52B9\u306A\u6B63\u898F\u8868\u73FE\u3067\u3059', 'error');\r\n    return;\r\n  }\r\n\r\n  if (userRules.patterns.includes(value)) {\r\n    showToast('\u3053\u306E\u6B63\u898F\u8868\u73FE\u306F\u65E2\u306B\u767B\u9332\u3055\u308C\u3066\u3044\u307E\u3059', 'warning');\r\n    return;\r\n  }\r\n\r\n  userRules.patterns.push(value);\r\n  input.value = '';\r\n  await saveAndRender();\r\n  showToast('\u6B63\u898F\u8868\u73FE\u3092\u8FFD\u52A0\u3057\u307E\u3057\u305F');\r\n};\r\n\r\n/**\r\n * Delete a pattern\r\n * @param {number} index - Index of pattern to delete\r\n */\r\nconst deletePattern = async (index) => {\r\n  userRules.patterns.splice(index, 1);\r\n  await saveAndRender();\r\n};\r\n\r\n/**\r\n * Render patterns list\r\n */\r\nconst renderPatterns = () => {\r\n  const patternsList = document.getElementById('patternsList');\r\n\r\n  if (userRules.patterns.length === 0) {\r\n    patternsList.innerHTML = `\r\n      <div class=\"empty-state\">\r\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n          <polyline points=\"16 18 22 12 16 6\"/>\r\n          <polyline points=\"8 6 2 12 8 18\"/>\r\n        </svg>\r\n        <p>\u6B63\u898F\u8868\u73FE\u304C\u767B\u9332\u3055\u308C\u3066\u3044\u307E\u305B\u3093</p>\r\n        <span>\u4E0A\u306E\u30D5\u30A9\u30FC\u30E0\u304B\u3089\u6B63\u898F\u8868\u73FE\u3092\u8FFD\u52A0\u3057\u3066\u304F\u3060\u3055\u3044</span>\r\n      </div>\r\n    `;\r\n    return;\r\n  }\r\n\r\n  patternsList.innerHTML = userRules.patterns\r\n    .map((pattern, index) => `\r\n      <div class=\"item-card\" data-index=\"${index}\">\r\n        <span class=\"item-text\">${escapeHtml(pattern)}</span>\r\n        <button class=\"btn btn-danger delete-pattern\" data-index=\"${index}\">\u524A\u9664</button>\r\n      </div>\r\n    `)\r\n    .join('');\r\n\r\n  // Attach event listeners\r\n  patternsList.querySelectorAll('.delete-pattern').forEach(btn => {\r\n    btn.addEventListener('click', (e) => {\r\n      const index = parseInt(e.target.dataset.index);\r\n      deletePattern(index);\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Update pattern test result\r\n * @param {HTMLInputElement} patternInput - Pattern input element\r\n * @param {HTMLInputElement} testText - Test text input element\r\n */\r\nconst updateTestResult = (patternInput, testText) => {\r\n  const testResult = document.getElementById('testResult');\r\n  const pattern = patternInput.value.trim();\r\n  const text = testText.value;\r\n\r\n  if (!pattern || !text) {\r\n    testResult.classList.add('hidden');\r\n    return;\r\n  }\r\n\r\n  const matches = RulesManager.testPattern(pattern, text);\r\n\r\n  if (matches === null) {\r\n    testResult.className = 'test-result error';\r\n    testResult.innerHTML = `\r\n      <span class=\"test-icon\">\u2717</span>\r\n      <span class=\"test-message\">\u7121\u52B9\u306A\u6B63\u898F\u8868\u73FE</span>\r\n    `;\r\n  } else if (matches && matches.length > 0) {\r\n    testResult.className = 'test-result success';\r\n    testResult.innerHTML = `\r\n      <span class=\"test-icon\">\u2713</span>\r\n      <span class=\"test-message\">${matches.length}\u4EF6\u30DE\u30C3\u30C1: ${matches.slice(0, 3).join(', ')}${matches.length > 3 ? '...' : ''}</span>\r\n    `;\r\n  } else {\r\n    testResult.className = 'test-result warning';\r\n    testResult.innerHTML = `\r\n      <span class=\"test-icon\">\u2212</span>\r\n      <span class=\"test-message\">\u30DE\u30C3\u30C1\u3057\u307E\u305B\u3093\u3067\u3057\u305F</span>\r\n    `;\r\n  }\r\n};\r\n\r\n/**\r\n * Render domains list\r\n */\r\nconst renderDomains = () => {\r\n  const domainCards = document.getElementById('domainCards');\r\n\r\n  domainCards.innerHTML = Object.entries(domainRules)\r\n    .map(([key, domain]) => `\r\n      <div class=\"domain-card\" data-domain=\"${key}\">\r\n        <div class=\"domain-card-header\">\r\n          <div class=\"domain-card-info\">\r\n            <div class=\"domain-card-icon\">\r\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n                <path d=\"M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z\"/>\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <div class=\"domain-card-name\">${escapeHtml(domain.name)}</div>\r\n              <div class=\"domain-card-url\">${domain.matches.join(', ')}</div>\r\n            </div>\r\n          </div>\r\n          <label class=\"domain-toggle\">\r\n            <input type=\"checkbox\" ${domain.enabled ? 'checked' : ''} data-domain=\"${key}\">\r\n            <span class=\"domain-toggle-slider\"></span>\r\n          </label>\r\n        </div>\r\n        ${domain.selectors && domain.selectors.length > 0 ? `\r\n          <div class=\"domain-card-selectors\">\r\n            <div class=\"domain-card-selectors-title\">\u96A0\u853D\u30BB\u30EC\u30AF\u30BF</div>\r\n            <div class=\"selector-tags\">\r\n              ${domain.selectors.map(s => `<span class=\"selector-tag\">${escapeHtml(s)}</span>`).join('')}\r\n            </div>\r\n          </div>\r\n        ` : ''}\r\n      </div>\r\n    `)\r\n    .join('');\r\n\r\n  // Attach event listeners for domain toggles\r\n  domainCards.querySelectorAll('.domain-toggle input').forEach(toggle => {\r\n    toggle.addEventListener('change', async (e) => {\r\n      const domainKey = e.target.dataset.domain;\r\n      domainRules[domainKey].enabled = e.target.checked;\r\n      await saveRules();\r\n      showToast(`${domainRules[domainKey].name} \u3092${e.target.checked ? '\u6709\u52B9' : '\u7121\u52B9'}\u306B\u3057\u307E\u3057\u305F`);\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Save rules to storage\r\n */\r\nconst saveRules = async () => {\r\n  try {\r\n    await StorageManager.setUserRules(userRules);\r\n    await StorageManager.setDomainRules(domainRules);\r\n  } catch (error) {\r\n    Logger.error('Failed to save rules', error);\r\n    showToast('\u4FDD\u5B58\u306B\u5931\u6557\u3057\u307E\u3057\u305F', 'error');\r\n  }\r\n};\r\n\r\n/**\r\n * Save rules and re-render UI\r\n */\r\nconst saveAndRender = async () => {\r\n  await saveRules();\r\n  renderKeywords();\r\n  renderPatterns();\r\n};\r\n\r\n/**\r\n * Handle export functionality\r\n */\r\nconst handleExport = () => {\r\n  try {\r\n    const data = createExportData(userRules, domainRules, CONFIG_VERSION);\r\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `privacy-guard-settings-${formatDateForFilename()}.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n\r\n    showToast('\u8A2D\u5B9A\u3092\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8\u3057\u307E\u3057\u305F');\r\n  } catch (error) {\r\n    Logger.error('Failed to export settings', error);\r\n    showToast('\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8\u306B\u5931\u6557\u3057\u307E\u3057\u305F', 'error');\r\n  }\r\n};\r\n\r\n/**\r\n * Handle import functionality\r\n * @param {Event} e - File input change event\r\n */\r\nconst handleImport = async (e) => {\r\n  const file = e.target.files[0];\r\n  if (!file) return;\r\n\r\n  try {\r\n    const text = await file.text();\r\n    const data = parseImportData(text);\r\n\r\n    if (!data) {\r\n      showToast('\u7121\u52B9\u306A\u30D5\u30A1\u30A4\u30EB\u5F62\u5F0F\u3067\u3059', 'error');\r\n      return;\r\n    }\r\n\r\n    if (data.userRules) {\r\n      userRules = data.userRules;\r\n    }\r\n    if (data.domainRules) {\r\n      domainRules = { ...domainRules, ...data.domainRules };\r\n    }\r\n\r\n    await saveRules();\r\n    renderAll();\r\n    showToast('\u8A2D\u5B9A\u3092\u30A4\u30F3\u30DD\u30FC\u30C8\u3057\u307E\u3057\u305F');\r\n  } catch (error) {\r\n    Logger.error('Failed to import settings', error);\r\n    showToast('\u30A4\u30F3\u30DD\u30FC\u30C8\u306B\u5931\u6557\u3057\u307E\u3057\u305F: ' + error.message, 'error');\r\n  } finally {\r\n    e.target.value = '';\r\n  }\r\n};\r\n\r\n/**\r\n * Show toast notification\r\n * @param {string} message - Message to display\r\n * @param {string} [type='success'] - Toast type (success, error, warning)\r\n */\r\nconst showToast = (message, type = 'success') => {\r\n  const toast = document.getElementById('toast');\r\n  const toastMessage = document.getElementById('toastMessage');\r\n  const icon = toast.querySelector('.toast-icon');\r\n\r\n  toastMessage.textContent = message;\r\n  toast.classList.remove('hidden');\r\n\r\n  // Set icon and color based on type\r\n  if (type === 'success') {\r\n    toast.style.background = 'linear-gradient(135deg, #10b981, #059669)';\r\n    icon.innerHTML = '<path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"/><polyline points=\"22 4 12 14.01 9 11.01\"/>';\r\n  } else if (type === 'error') {\r\n    toast.style.background = 'linear-gradient(135deg, #ef4444, #dc2626)';\r\n    icon.innerHTML = '<circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"m15 9-6 6\"/><path d=\"m9 9 6 6\"/>';\r\n  } else if (type === 'warning') {\r\n    toast.style.background = 'linear-gradient(135deg, #f59e0b, #d97706)';\r\n    icon.innerHTML = '<path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\"/><path d=\"M12 9v4\"/><path d=\"M12 17h.01\"/>';\r\n  }\r\n\r\n  requestAnimationFrame(() => {\r\n    toast.classList.add('show');\r\n  });\r\n\r\n  setTimeout(() => {\r\n    toast.classList.remove('show');\r\n    setTimeout(() => toast.classList.add('hidden'), 300);\r\n  }, 3000);\r\n};\r\n\r\n// Initialize when DOM is ready\r\ndocument.addEventListener('DOMContentLoaded', init);\r\n"],
  "mappings": "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",
  "names": ["userRules", "domainRules", "domainRules", "userRules", "userRules", "domainRules"]
}
