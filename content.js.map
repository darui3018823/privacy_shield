{
  "version": 3,
  "sources": ["src/config/constants.js", "src/utils/logger.js", "src/utils/storage.js", "src/config/config.js", "src/utils/rules.js", "src/utils/helpers.js", "src/content/content.js"],
  "sourcesContent": ["/**\r\n * Constants and configuration values for the Privacy Shield extension\r\n * @module constants\r\n */\r\n\r\n/**\r\n * Default badge color for the extension icon\r\n * @constant {string}\r\n */\r\nexport const BADGE_COLOR = '#6366f1';\r\n\r\n/**\r\n * Maximum text length to consider for hiding (characters)\r\n * @constant {number}\r\n */\r\nexport const MAX_TEXT_LENGTH_SMALL = 100;\r\n\r\n/**\r\n * Maximum text length for parent element (characters)\r\n * @constant {number}\r\n */\r\nexport const MAX_TEXT_LENGTH_LARGE = 200;\r\n\r\n/**\r\n * Maximum preview text length for hidden items (characters)\r\n * @constant {number}\r\n */\r\nexport const PREVIEW_TEXT_LENGTH = 50;\r\n\r\n/**\r\n * Debounce delay for saving hidden items (milliseconds)\r\n * @constant {number}\r\n */\r\nexport const SAVE_DEBOUNCE_DELAY = 500;\r\n\r\n/**\r\n * Toast display duration (milliseconds)\r\n * @constant {number}\r\n */\r\nexport const TOAST_DURATION = 3000;\r\n\r\n/**\r\n * Toast animation duration (milliseconds)\r\n * @constant {number}\r\n */\r\nexport const TOAST_ANIMATION_DURATION = 300;\r\n\r\n/**\r\n * Default user rules structure\r\n * @constant {Object}\r\n */\r\nexport const DEFAULT_USER_RULES = {\r\n  keywords: [],\r\n  patterns: []\r\n};\r\n\r\n/**\r\n * Storage keys used by the extension\r\n * @constant {Object}\r\n */\r\nexport const STORAGE_KEYS = {\r\n  IS_PAUSED: 'isPaused',\r\n  HIDDEN_COUNT: 'hiddenCount',\r\n  HIDDEN_ITEMS: 'hiddenItems',\r\n  USER_RULES: 'userRules',\r\n  DOMAIN_RULES: 'domainRules'\r\n};\r\n\r\n/**\r\n * Message types for chrome.runtime messaging\r\n * @constant {Object}\r\n */\r\nexport const MESSAGE_TYPES = {\r\n  UPDATE_COUNT: 'UPDATE_COUNT',\r\n  GET_RULES: 'GET_RULES',\r\n  SAVE_RULES: 'SAVE_RULES'\r\n};\r\n\r\n/**\r\n * Configuration version for import/export\r\n * @constant {string}\r\n */\r\nexport const CONFIG_VERSION = '1.0';\r\n", "/**\r\n * Logger utility for unified error handling and logging\r\n * @module logger\r\n */\r\n\r\n/**\r\n * Log levels\r\n * @enum {string}\r\n */\r\nconst LogLevel = {\r\n  ERROR: 'ERROR',\r\n  WARN: 'WARN',\r\n  INFO: 'INFO',\r\n  DEBUG: 'DEBUG'\r\n};\r\n\r\n/**\r\n * Extension name prefix for log messages\r\n * @constant {string}\r\n */\r\nconst LOG_PREFIX = '[Privacy Shield]';\r\n\r\n/**\r\n * Logger class for unified logging across the extension\r\n */\r\nclass Logger {\r\n  /**\r\n   * Log an error message\r\n   * @param {string} message - The error message\r\n   * @param {Error|any} [error] - Optional error object or additional data\r\n   */\r\n  static error(message, error = null) {\r\n    console.error(`${LOG_PREFIX} ${message}`, error || '');\r\n  }\r\n\r\n  /**\r\n   * Log a warning message\r\n   * @param {string} message - The warning message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static warn(message, data = null) {\r\n    console.warn(`${LOG_PREFIX} ${message}`, data || '');\r\n  }\r\n\r\n  /**\r\n   * Log an info message\r\n   * @param {string} message - The info message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static info(message, data = null) {\r\n    console.info(`${LOG_PREFIX} ${message}`, data || '');\r\n  }\r\n\r\n  /**\r\n   * Log a debug message\r\n   * @param {string} message - The debug message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static debug(message, data = null) {\r\n    console.debug(`${LOG_PREFIX} ${message}`, data || '');\r\n  }\r\n\r\n  /**\r\n   * Log a message with a specific level\r\n   * @param {string} level - The log level\r\n   * @param {string} message - The message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static log(level, message, data = null) {\r\n    const logMethod = console[level.toLowerCase()] || console.log;\r\n    logMethod.call(console, `${LOG_PREFIX} [${level}] ${message}`, data || '');\r\n  }\r\n}\r\n\r\nexport { Logger };\r\n", "/**\r\n * Storage Manager for unified storage operations\r\n * @module storage\r\n */\r\n\r\nimport { STORAGE_KEYS, DEFAULT_USER_RULES } from '../config/constants.js';\r\nimport { Logger } from './logger.js';\r\n\r\n/**\r\n * StorageManager class for handling chrome.storage operations\r\n */\r\nexport class StorageManager {\r\n  /**\r\n   * Get a value from storage\r\n   * @param {string|string[]} keys - Storage key(s) to retrieve\r\n   * @returns {Promise<Object>} The stored values\r\n   */\r\n  static async get(keys) {\r\n    try {\r\n      return await chrome.storage.local.get(keys);\r\n    } catch (error) {\r\n      Logger.error('Failed to get from storage', error);\r\n      return {};\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set values in storage\r\n   * @param {Object} items - Key-value pairs to store\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async set(items) {\r\n    try {\r\n      await chrome.storage.local.set(items);\r\n      return true;\r\n    } catch (error) {\r\n      Logger.error('Failed to set storage', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove keys from storage\r\n   * @param {string|string[]} keys - Key(s) to remove\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async remove(keys) {\r\n    try {\r\n      await chrome.storage.local.remove(keys);\r\n      return true;\r\n    } catch (error) {\r\n      Logger.error('Failed to remove from storage', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the paused state\r\n   * @returns {Promise<boolean>} True if paused\r\n   */\r\n  static async getIsPaused() {\r\n    const result = await this.get(STORAGE_KEYS.IS_PAUSED);\r\n    return result[STORAGE_KEYS.IS_PAUSED] || false;\r\n  }\r\n\r\n  /**\r\n   * Set the paused state\r\n   * @param {boolean} isPaused - The paused state\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setIsPaused(isPaused) {\r\n    return await this.set({ [STORAGE_KEYS.IS_PAUSED]: isPaused });\r\n  }\r\n\r\n  /**\r\n   * Get user rules\r\n   * @returns {Promise<Object>} The user rules\r\n   */\r\n  static async getUserRules() {\r\n    const result = await this.get(STORAGE_KEYS.USER_RULES);\r\n    return result[STORAGE_KEYS.USER_RULES] || DEFAULT_USER_RULES;\r\n  }\r\n\r\n  /**\r\n   * Set user rules\r\n   * @param {Object} userRules - The user rules to save\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setUserRules(userRules) {\r\n    return await this.set({ [STORAGE_KEYS.USER_RULES]: userRules });\r\n  }\r\n\r\n  /**\r\n   * Get domain rules\r\n   * @returns {Promise<Object|null>} The domain rules or null\r\n   */\r\n  static async getDomainRules() {\r\n    const result = await this.get(STORAGE_KEYS.DOMAIN_RULES);\r\n    return result[STORAGE_KEYS.DOMAIN_RULES] || null;\r\n  }\r\n\r\n  /**\r\n   * Set domain rules\r\n   * @param {Object} domainRules - The domain rules to save\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setDomainRules(domainRules) {\r\n    return await this.set({ [STORAGE_KEYS.DOMAIN_RULES]: domainRules });\r\n  }\r\n\r\n  /**\r\n   * Get hidden count\r\n   * @returns {Promise<number>} The number of hidden items\r\n   */\r\n  static async getHiddenCount() {\r\n    const result = await this.get(STORAGE_KEYS.HIDDEN_COUNT);\r\n    return result[STORAGE_KEYS.HIDDEN_COUNT] || 0;\r\n  }\r\n\r\n  /**\r\n   * Set hidden count and items\r\n   * @param {number} count - The count of hidden items\r\n   * @param {Array<string>} items - The hidden items\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setHiddenData(count, items) {\r\n    return await this.set({\r\n      [STORAGE_KEYS.HIDDEN_COUNT]: count,\r\n      [STORAGE_KEYS.HIDDEN_ITEMS]: items\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get hidden items\r\n   * @returns {Promise<Array<string>>} The hidden items\r\n   */\r\n  static async getHiddenItems() {\r\n    const result = await this.get(STORAGE_KEYS.HIDDEN_ITEMS);\r\n    return result[STORAGE_KEYS.HIDDEN_ITEMS] || [];\r\n  }\r\n\r\n  /**\r\n   * Initialize storage with default values if not set\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async initialize() {\r\n    try {\r\n      const result = await this.get(STORAGE_KEYS.USER_RULES);\r\n      if (!result[STORAGE_KEYS.USER_RULES]) {\r\n        await this.set({\r\n          [STORAGE_KEYS.USER_RULES]: DEFAULT_USER_RULES,\r\n          [STORAGE_KEYS.IS_PAUSED]: false\r\n        });\r\n      }\r\n      return true;\r\n    } catch (error) {\r\n      Logger.error('Failed to initialize storage', error);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n", "/**\r\n * Domain configuration for the Privacy Shield extension\r\n * @module config\r\n */\r\n\r\n/**\r\n * Supported domains configuration\r\n * Each domain entry contains matching patterns, selectors, and settings\r\n * @constant {Object}\r\n */\r\nexport const SUPPORTED_DOMAINS = {\r\n  google: {\r\n    name: 'Google Search',\r\n    matches: ['www.google.com', 'www.google.co.jp'],\r\n    enabled: true,\r\n    selectors: ['.O4T6Pe', '.vqkKIe', '.eKPi4', 'update-location', '.dfB0uf']\r\n  },\r\n  gemini: {\r\n    name: 'Google Gemini',\r\n    matches: ['gemini.google.com'],\r\n    enabled: true,\r\n    selectors: ['location-footer', '.location-menu-item-container']\r\n  },\r\n  amazon: {\r\n    name: 'Amazon.co.jp',\r\n    matches: ['www.amazon.co.jp'],\r\n    enabled: true,\r\n    selectors: [\r\n      '#nav-global-location-popover-link',\r\n      '#glow-ingress-block',\r\n      '#contextualIngressPtLink',\r\n      '#contextualIngressPtLabel',\r\n      '#contextualIngressPtLabel_deliveryShortLine',\r\n      '.insert-encrypted-trigger-text'\r\n    ]\r\n  }\r\n};\r\n\r\n/**\r\n * Domain display name mappings for friendly names\r\n * @constant {Object}\r\n */\r\nexport const DOMAIN_DISPLAY_NAMES = {\r\n  'gemini.google.com': 'Google Gemini',\r\n  'google.com': 'Google Search',\r\n  'google.co.jp': 'Google Search',\r\n  'amazon.co.jp': 'Amazon.co.jp'\r\n};\r\n\r\n/**\r\n * List of supported domain patterns for quick checks\r\n * @constant {Array<string>}\r\n */\r\nexport const SUPPORTED_DOMAIN_PATTERNS = Object.values(SUPPORTED_DOMAINS).flatMap(d => d.matches);\r\n\r\n/**\r\n * Get the display name for a given domain\r\n * @param {string} domain - The domain hostname\r\n * @returns {string} The friendly display name or the original domain\r\n */\r\nexport function getDomainDisplayName(domain) {\r\n  for (const [key, value] of Object.entries(DOMAIN_DISPLAY_NAMES)) {\r\n    if (domain.includes(key)) {\r\n      return value;\r\n    }\r\n  }\r\n  return domain;\r\n}\r\n\r\n/**\r\n * Check if a domain is supported\r\n * @param {string} domain - The domain hostname\r\n * @returns {boolean} True if the domain is supported\r\n */\r\nexport function isSupportedDomain(domain) {\r\n  return SUPPORTED_DOMAIN_PATTERNS.some(pattern => domain.includes(pattern));\r\n}\r\n", "/**\r\n * Rules Manager for handling domain rules and filtering logic\r\n * @module rules\r\n */\r\n\r\nimport { SUPPORTED_DOMAINS } from '../config/config.js';\r\nimport { Logger } from './logger.js';\r\nimport { StorageManager } from './storage.js';\r\n\r\n/**\r\n * RulesManager class for managing and processing rules\r\n */\r\nexport class RulesManager {\r\n  /**\r\n   * Load domain rules for the current hostname\r\n   * @param {string} hostname - The current page hostname\r\n   * @returns {Promise<Object|null>} The domain rules or null if not found\r\n   */\r\n  static async loadDomainRules(hostname) {\r\n    try {\r\n      // First try to get custom domain rules from storage\r\n      const storedRules = await StorageManager.getDomainRules();\r\n      \r\n      if (storedRules) {\r\n        for (const [key, domain] of Object.entries(storedRules)) {\r\n          if (domain.matches && domain.matches.some(m => hostname.includes(m))) {\r\n            return domain;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Fall back to default rules from rules.json\r\n      try {\r\n        const defaultRules = await fetch(chrome.runtime.getURL('rules.json')).then(r => r.json());\r\n        for (const [key, domain] of Object.entries(defaultRules.domains)) {\r\n          if (domain.matches && domain.matches.some(m => hostname.includes(m))) {\r\n            return domain;\r\n          }\r\n        }\r\n      } catch (fetchError) {\r\n        Logger.warn('Failed to fetch default rules, using built-in config', fetchError);\r\n      }\r\n\r\n      // Finally, fall back to built-in configuration\r\n      for (const [key, domain] of Object.entries(SUPPORTED_DOMAINS)) {\r\n        if (domain.matches && domain.matches.some(m => hostname.includes(m))) {\r\n          return domain;\r\n        }\r\n      }\r\n\r\n      return null;\r\n    } catch (error) {\r\n      Logger.error('Failed to load domain rules', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validate a regular expression pattern\r\n   * @param {string} pattern - The regex pattern to validate\r\n   * @returns {boolean} True if valid\r\n   */\r\n  static isValidPattern(pattern) {\r\n    try {\r\n      new RegExp(pattern);\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Compile patterns into RegExp objects\r\n   * @param {Array<string>} patterns - Array of pattern strings\r\n   * @returns {Array<RegExp>} Array of compiled RegExp objects\r\n   */\r\n  static compilePatterns(patterns) {\r\n    if (!patterns || patterns.length === 0) {\r\n      return [];\r\n    }\r\n\r\n    return patterns\r\n      .map(p => {\r\n        try {\r\n          return new RegExp(p, 'g');\r\n        } catch (error) {\r\n          Logger.warn(`Invalid pattern: ${p}`, error);\r\n          return null;\r\n        }\r\n      })\r\n      .filter(Boolean);\r\n  }\r\n\r\n  /**\r\n   * Test if a pattern matches text\r\n   * @param {string} pattern - The pattern to test\r\n   * @param {string} text - The text to test against\r\n   * @returns {Array<string>|null} Array of matches or null if invalid/no match\r\n   */\r\n  static testPattern(pattern, text) {\r\n    try {\r\n      const regex = new RegExp(pattern, 'g');\r\n      return text.match(regex);\r\n    } catch (error) {\r\n      Logger.warn('Pattern test failed', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if a domain is enabled in rules\r\n   * @param {Object} domainRules - The domain rules object\r\n   * @returns {boolean} True if enabled (default true if not specified)\r\n   */\r\n  static isDomainEnabled(domainRules) {\r\n    return domainRules && domainRules.enabled !== false;\r\n  }\r\n\r\n  /**\r\n   * Get all user rules (keywords and patterns)\r\n   * @returns {Promise<Object>} User rules object with keywords and patterns arrays\r\n   */\r\n  static async getUserRules() {\r\n    return await StorageManager.getUserRules();\r\n  }\r\n\r\n  /**\r\n   * Save user rules\r\n   * @param {Object} userRules - User rules object\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async saveUserRules(userRules) {\r\n    return await StorageManager.setUserRules(userRules);\r\n  }\r\n\r\n  /**\r\n   * Save domain rules\r\n   * @param {Object} domainRules - Domain rules object\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async saveDomainRules(domainRules) {\r\n    return await StorageManager.setDomainRules(domainRules);\r\n  }\r\n}\r\n", "/**\r\n * Helper utility functions\r\n * @module helpers\r\n */\r\n\r\nimport { PREVIEW_TEXT_LENGTH } from '../config/constants.js';\r\n\r\n/**\r\n * Escape HTML special characters to prevent XSS\r\n * @param {string} text - Text to escape\r\n * @returns {string} Escaped HTML\r\n */\r\nexport function escapeHtml(text) {\r\n  const div = document.createElement('div');\r\n  div.textContent = text;\r\n  return div.innerHTML;\r\n}\r\n\r\n/**\r\n * Truncate text to a maximum length\r\n * @param {string} text - Text to truncate\r\n * @param {number} [maxLength=PREVIEW_TEXT_LENGTH] - Maximum length\r\n * @returns {string} Truncated text\r\n */\r\nexport function truncateText(text, maxLength = PREVIEW_TEXT_LENGTH) {\r\n  if (!text || text.length <= maxLength) {\r\n    return text;\r\n  }\r\n  return text.substring(0, maxLength);\r\n}\r\n\r\n/**\r\n * Debounce a function call\r\n * @param {Function} func - Function to debounce\r\n * @param {number} delay - Delay in milliseconds\r\n * @returns {Function} Debounced function\r\n */\r\nexport function debounce(func, delay) {\r\n  let timeoutId;\r\n  return function (...args) {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => func.apply(this, args), delay);\r\n  };\r\n}\r\n\r\n/**\r\n * Format a date as ISO string for export filenames\r\n * @param {Date} [date=new Date()] - Date to format\r\n * @returns {string} Formatted date string (YYYY-MM-DD)\r\n */\r\nexport function formatDateForFilename(date = new Date()) {\r\n  return date.toISOString().slice(0, 10);\r\n}\r\n\r\n/**\r\n * Create an export data object with version and timestamp\r\n * @param {Object} userRules - User rules\r\n * @param {Object} domainRules - Domain rules\r\n * @param {string} version - Config version\r\n * @returns {Object} Export data object\r\n */\r\nexport function createExportData(userRules, domainRules, version) {\r\n  return {\r\n    version,\r\n    exportedAt: new Date().toISOString(),\r\n    userRules,\r\n    domainRules\r\n  };\r\n}\r\n\r\n/**\r\n * Parse imported data and validate structure\r\n * @param {string} jsonText - JSON text to parse\r\n * @returns {Object|null} Parsed data or null if invalid\r\n */\r\nexport function parseImportData(jsonText) {\r\n  try {\r\n    const data = JSON.parse(jsonText);\r\n    // Basic validation: ensure it's a non-null object\r\n    if (typeof data !== 'object' || data === null || Array.isArray(data)) {\r\n      return null;\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Find the target element to hide by traversing up the DOM tree\r\n * @param {Node} node - Starting text node\r\n * @param {number} maxSmall - Max text length for small element\r\n * @param {number} maxLarge - Max text length for parent element\r\n * @returns {HTMLElement|null} Target element to hide or null\r\n */\r\nexport function findTargetElement(node, maxSmall, maxLarge) {\r\n  let target = node.parentElement;\r\n  if (!target) return null;\r\n\r\n  while (target && target.innerText && target.innerText.length < maxSmall) {\r\n    if (target.parentElement && target.parentElement.innerText.length < maxLarge) {\r\n      target = target.parentElement;\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\n/**\r\n * Check if element is already hidden\r\n * @param {HTMLElement} element - Element to check\r\n * @returns {boolean} True if hidden\r\n */\r\nexport function isElementHidden(element) {\r\n  return element.style.display === 'none' || element.hasAttribute('data-privacy-hidden');\r\n}\r\n\r\n/**\r\n * Wait for DOM to be ready\r\n * @returns {Promise<void>} Resolves when DOM is ready\r\n */\r\nexport function waitForDOMReady() {\r\n  return new Promise((resolve) => {\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', resolve);\r\n    } else {\r\n      resolve();\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Send a message to the background script safely\r\n * @param {Object} message - Message to send\r\n * @returns {Promise<any>} Response or null if failed\r\n */\r\nexport async function sendMessageSafely(message) {\r\n  try {\r\n    return await chrome.runtime.sendMessage(message);\r\n  } catch (error) {\r\n    // Extension context invalidated - this is expected when extension reloads\r\n    // Don't log as it's not an actual error condition\r\n    return null;\r\n  }\r\n}\r\n", "/**\r\n * Content script for Privacy Shield extension\r\n * Handles detection and hiding of privacy-sensitive content on web pages\r\n * @module content\r\n */\r\n\r\nimport { StorageManager } from '../utils/storage.js';\r\nimport { RulesManager } from '../utils/rules.js';\r\nimport { Logger } from '../utils/logger.js';\r\nimport {\r\n  truncateText,\r\n  findTargetElement,\r\n  isElementHidden,\r\n  waitForDOMReady,\r\n  sendMessageSafely,\r\n  debounce\r\n} from '../utils/helpers.js';\r\nimport {\r\n  MAX_TEXT_LENGTH_SMALL,\r\n  MAX_TEXT_LENGTH_LARGE,\r\n  SAVE_DEBOUNCE_DELAY,\r\n  TOAST_DURATION,\r\n  TOAST_ANIMATION_DURATION,\r\n  MESSAGE_TYPES\r\n} from '../config/constants.js';\r\n\r\n(() => {\r\n  'use strict';\r\n\r\n  // State variables\r\n  let isPaused = false;\r\n  let hiddenItemsSet = new Set();\r\n  let toastShown = false;\r\n  let currentDomainRules = null;\r\n  let userRules = null;\r\n\r\n  /**\r\n   * Initialize the content script\r\n   */\r\n  const init = async () => {\r\n    try {\r\n      await loadState();\r\n      await loadDomainRules();\r\n      updateBodyClass();\r\n\r\n      if (!isPaused) {\r\n        runHidingLogic();\r\n      }\r\n\r\n      setupStorageListener();\r\n      setupMutationObserver();\r\n    } catch (error) {\r\n      Logger.error('Failed to initialize content script', error);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Load initial state from storage\r\n   */\r\n  const loadState = async () => {\r\n    try {\r\n      isPaused = await StorageManager.getIsPaused();\r\n      userRules = await StorageManager.getUserRules();\r\n    } catch (error) {\r\n      Logger.error('Failed to load state', error);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Load domain-specific rules for the current page\r\n   */\r\n  const loadDomainRules = async () => {\r\n    try {\r\n      const hostname = window.location.hostname;\r\n      currentDomainRules = await RulesManager.loadDomainRules(hostname);\r\n    } catch (error) {\r\n      Logger.error('Failed to load domain rules', error);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Setup listener for storage changes\r\n   */\r\n  const setupStorageListener = () => {\r\n    chrome.storage.onChanged.addListener(handleStorageChange);\r\n  };\r\n\r\n  /**\r\n   * Setup mutation observer to watch for DOM changes\r\n   */\r\n  const setupMutationObserver = () => {\r\n    const observer = new MutationObserver(() => {\r\n      if (!isPaused) {\r\n        runHidingLogic();\r\n      }\r\n    });\r\n    observer.observe(document.body, { childList: true, subtree: true });\r\n  };\r\n\r\n  /**\r\n   * Handle storage change events\r\n   * @param {Object} changes - Changed storage items\r\n   * @param {string} area - Storage area name\r\n   */\r\n  const handleStorageChange = (changes, area) => {\r\n    if (area !== 'local') return;\r\n\r\n    if (changes.isPaused) {\r\n      isPaused = changes.isPaused.newValue;\r\n      updateBodyClass();\r\n      if (isPaused) {\r\n        unhideAll();\r\n        updateBadge(0);\r\n      } else {\r\n        runHidingLogic();\r\n      }\r\n    }\r\n\r\n    if (changes.userRules) {\r\n      userRules = changes.userRules.newValue || { keywords: [], patterns: [] };\r\n      if (!isPaused) {\r\n        runHidingLogic();\r\n      }\r\n    }\r\n\r\n    if (changes.domainRules) {\r\n      loadDomainRules().then(() => {\r\n        if (!isPaused) {\r\n          runHidingLogic();\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Update body class based on paused state\r\n   */\r\n  const updateBodyClass = () => {\r\n    if (isPaused) {\r\n      document.body.classList.add('privacy-guard-paused');\r\n    } else {\r\n      document.body.classList.remove('privacy-guard-paused');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Unhide all previously hidden elements\r\n   */\r\n  const unhideAll = () => {\r\n    document.querySelectorAll('[data-privacy-hidden]').forEach(el => {\r\n      el.style.display = '';\r\n      el.removeAttribute('data-privacy-hidden');\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Update badge count in the extension icon\r\n   * @param {number} count - Number of hidden items\r\n   */\r\n  const updateBadge = (count) => {\r\n    sendMessageSafely({ type: MESSAGE_TYPES.UPDATE_COUNT, count });\r\n  };\r\n\r\n  /**\r\n   * Save hidden items to storage\r\n   */\r\n  const saveHiddenItems = async () => {\r\n    try {\r\n      await StorageManager.setHiddenData(hiddenItemsSet.size, Array.from(hiddenItemsSet));\r\n      updateBadge(hiddenItemsSet.size);\r\n    } catch (error) {\r\n      Logger.error('Failed to save hidden items', error);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Debounced save function\r\n   */\r\n  const debouncedSaveHiddenItems = debounce(saveHiddenItems, SAVE_DEBOUNCE_DELAY);\r\n\r\n  /**\r\n   * Hide an element and track it\r\n   * @param {HTMLElement} el - Element to hide\r\n   * @param {string} reason - Reason for hiding\r\n   * @returns {boolean} True if element was newly hidden\r\n   */\r\n  const hideElement = (el, reason) => {\r\n    if (isElementHidden(el)) return false;\r\n\r\n    el.style.display = 'none';\r\n    el.setAttribute('data-privacy-hidden', 'true');\r\n\r\n    const itemText = truncateText(el.innerText) || reason || 'Hidden Item';\r\n    if (!hiddenItemsSet.has(itemText)) {\r\n      hiddenItemsSet.add(itemText);\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  /**\r\n   * Hide elements matching CSS selectors\r\n   * @param {Array<string>} selectors - CSS selectors to match\r\n   * @returns {boolean} True if any elements were hidden\r\n   */\r\n  const hideBySelectors = (selectors) => {\r\n    let changed = false;\r\n    selectors.forEach(selector => {\r\n      try {\r\n        document.querySelectorAll(selector).forEach(el => {\r\n          const target = el.closest('[role=\"contentinfo\"]') || el;\r\n          if (hideElement(target, `Selector: ${selector}`)) {\r\n            changed = true;\r\n          }\r\n        });\r\n      } catch (error) {\r\n        Logger.warn(`Invalid selector: ${selector}`, error);\r\n      }\r\n    });\r\n    return changed;\r\n  };\r\n\r\n  /**\r\n   * Hide elements containing specific keywords\r\n   * @param {Array<string>} keywords - Keywords to search for\r\n   * @returns {boolean} True if any elements were hidden\r\n   */\r\n  const hideByKeywords = (keywords) => {\r\n    if (!keywords || keywords.length === 0) return false;\r\n\r\n    let changed = false;\r\n    const walker = document.createTreeWalker(\r\n      document.body,\r\n      NodeFilter.SHOW_TEXT,\r\n      null,\r\n      false\r\n    );\r\n\r\n    const nodesToHide = [];\r\n    while (walker.nextNode()) {\r\n      const node = walker.currentNode;\r\n      const text = node.textContent;\r\n\r\n      for (const keyword of keywords) {\r\n        if (text && text.includes(keyword)) {\r\n          const target = findTargetElement(node, MAX_TEXT_LENGTH_SMALL, MAX_TEXT_LENGTH_LARGE);\r\n          if (target && !target.hasAttribute('data-privacy-hidden')) {\r\n            nodesToHide.push({ el: target, keyword });\r\n          }\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    nodesToHide.forEach(({ el, keyword }) => {\r\n      if (hideElement(el, `Keyword: ${keyword}`)) {\r\n        changed = true;\r\n      }\r\n    });\r\n\r\n    return changed;\r\n  };\r\n\r\n  /**\r\n   * Hide elements matching regex patterns\r\n   * @param {Array<string>} patterns - Regex patterns to match\r\n   * @returns {boolean} True if any elements were hidden\r\n   */\r\n  const hideByPatterns = (patterns) => {\r\n    if (!patterns || patterns.length === 0) return false;\r\n\r\n    const regexes = RulesManager.compilePatterns(patterns);\r\n    if (regexes.length === 0) return false;\r\n\r\n    let changed = false;\r\n    const walker = document.createTreeWalker(\r\n      document.body,\r\n      NodeFilter.SHOW_TEXT,\r\n      null,\r\n      false\r\n    );\r\n\r\n    const nodesToHide = [];\r\n    while (walker.nextNode()) {\r\n      const node = walker.currentNode;\r\n      const text = node.textContent;\r\n\r\n      for (const regex of regexes) {\r\n        if (text && regex.test(text)) {\r\n          const target = findTargetElement(node, MAX_TEXT_LENGTH_SMALL, MAX_TEXT_LENGTH_LARGE);\r\n          if (target && !target.hasAttribute('data-privacy-hidden')) {\r\n            nodesToHide.push({ el: target, pattern: regex.source });\r\n          }\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    nodesToHide.forEach(({ el, pattern }) => {\r\n      if (hideElement(el, `Pattern: ${pattern}`)) {\r\n        changed = true;\r\n      }\r\n    });\r\n\r\n    return changed;\r\n  };\r\n\r\n  /**\r\n   * Show toast notification\r\n   */\r\n  const showToast = () => {\r\n    if (toastShown) return;\r\n    toastShown = true;\r\n\r\n    const toast = document.createElement('div');\r\n    toast.id = 'privacy-guard-toast';\r\n    toast.innerHTML = `\r\n      <div class=\"pg-toast-content\">\r\n        <svg class=\"pg-toast-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n          <path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\"/>\r\n          <path d=\"M9 12l2 2 4-4\"/>\r\n        </svg>\r\n        <span>\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u3092\u4FDD\u8B77\u3057\u307E\u3057\u305F</span>\r\n      </div>\r\n    `;\r\n    document.body.appendChild(toast);\r\n\r\n    requestAnimationFrame(() => {\r\n      toast.classList.add('pg-toast-show');\r\n    });\r\n\r\n    setTimeout(() => {\r\n      toast.classList.remove('pg-toast-show');\r\n      toast.classList.add('pg-toast-hide');\r\n      setTimeout(() => toast.remove(), TOAST_ANIMATION_DURATION);\r\n    }, TOAST_DURATION);\r\n  };\r\n\r\n  /**\r\n   * Run the main hiding logic\r\n   */\r\n  const runHidingLogic = () => {\r\n    if (isPaused || !currentDomainRules) return;\r\n    if (!RulesManager.isDomainEnabled(currentDomainRules)) return;\r\n\r\n    let changed = false;\r\n\r\n    if (currentDomainRules.selectors) {\r\n      if (hideBySelectors(currentDomainRules.selectors)) {\r\n        changed = true;\r\n      }\r\n    }\r\n\r\n    if (userRules && userRules.keywords) {\r\n      if (hideByKeywords(userRules.keywords)) {\r\n        changed = true;\r\n      }\r\n    }\r\n\r\n    if (userRules && userRules.patterns) {\r\n      if (hideByPatterns(userRules.patterns)) {\r\n        changed = true;\r\n      }\r\n    }\r\n\r\n    if (changed) {\r\n      debouncedSaveHiddenItems();\r\n      showToast();\r\n    }\r\n  };\r\n\r\n  // Initialize when DOM is ready\r\n  waitForDOMReady().then(init);\r\n})();\r\n"],
  "mappings": "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",
  "names": []
}
