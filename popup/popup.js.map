{
  "version": 3,
  "sources": ["../src/config/constants.js", "../src/utils/logger.js", "../src/utils/storage.js", "../src/utils/helpers.js", "../src/config/config.js", "../src/popup/popup.js"],
  "sourcesContent": ["/**\r\n * Constants and configuration values for the Privacy Shield extension\r\n * @module constants\r\n */\r\n\r\n/**\r\n * Default badge color for the extension icon\r\n * @constant {string}\r\n */\r\nexport const BADGE_COLOR = '#6366f1';\r\n\r\n/**\r\n * Maximum text length to consider for hiding (characters)\r\n * @constant {number}\r\n */\r\nexport const MAX_TEXT_LENGTH_SMALL = 100;\r\n\r\n/**\r\n * Maximum text length for parent element (characters)\r\n * @constant {number}\r\n */\r\nexport const MAX_TEXT_LENGTH_LARGE = 200;\r\n\r\n/**\r\n * Maximum preview text length for hidden items (characters)\r\n * @constant {number}\r\n */\r\nexport const PREVIEW_TEXT_LENGTH = 50;\r\n\r\n/**\r\n * Debounce delay for saving hidden items (milliseconds)\r\n * @constant {number}\r\n */\r\nexport const SAVE_DEBOUNCE_DELAY = 500;\r\n\r\n/**\r\n * Toast display duration (milliseconds)\r\n * @constant {number}\r\n */\r\nexport const TOAST_DURATION = 3000;\r\n\r\n/**\r\n * Toast animation duration (milliseconds)\r\n * @constant {number}\r\n */\r\nexport const TOAST_ANIMATION_DURATION = 300;\r\n\r\n/**\r\n * Default user rules structure\r\n * @constant {Object}\r\n */\r\nexport const DEFAULT_USER_RULES = {\r\n  keywords: [],\r\n  patterns: []\r\n};\r\n\r\n/**\r\n * Storage keys used by the extension\r\n * @constant {Object}\r\n */\r\nexport const STORAGE_KEYS = {\r\n  IS_PAUSED: 'isPaused',\r\n  HIDDEN_COUNT: 'hiddenCount',\r\n  HIDDEN_ITEMS: 'hiddenItems',\r\n  USER_RULES: 'userRules',\r\n  DOMAIN_RULES: 'domainRules'\r\n};\r\n\r\n/**\r\n * Message types for chrome.runtime messaging\r\n * @constant {Object}\r\n */\r\nexport const MESSAGE_TYPES = {\r\n  UPDATE_COUNT: 'UPDATE_COUNT',\r\n  GET_RULES: 'GET_RULES',\r\n  SAVE_RULES: 'SAVE_RULES'\r\n};\r\n\r\n/**\r\n * Configuration version for import/export\r\n * @constant {string}\r\n */\r\nexport const CONFIG_VERSION = '1.0';\r\n", "/**\r\n * Logger utility for unified error handling and logging\r\n * @module logger\r\n */\r\n\r\n/**\r\n * Log levels\r\n * @enum {string}\r\n */\r\nconst LogLevel = {\r\n  ERROR: 'ERROR',\r\n  WARN: 'WARN',\r\n  INFO: 'INFO',\r\n  DEBUG: 'DEBUG'\r\n};\r\n\r\n/**\r\n * Extension name prefix for log messages\r\n * @constant {string}\r\n */\r\nconst LOG_PREFIX = '[Privacy Shield]';\r\n\r\n/**\r\n * Logger class for unified logging across the extension\r\n */\r\nclass Logger {\r\n  /**\r\n   * Log an error message\r\n   * @param {string} message - The error message\r\n   * @param {Error|any} [error] - Optional error object or additional data\r\n   */\r\n  static error(message, error = null) {\r\n    console.error(`${LOG_PREFIX} ${message}`, error || '');\r\n  }\r\n\r\n  /**\r\n   * Log a warning message\r\n   * @param {string} message - The warning message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static warn(message, data = null) {\r\n    console.warn(`${LOG_PREFIX} ${message}`, data || '');\r\n  }\r\n\r\n  /**\r\n   * Log an info message\r\n   * @param {string} message - The info message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static info(message, data = null) {\r\n    console.info(`${LOG_PREFIX} ${message}`, data || '');\r\n  }\r\n\r\n  /**\r\n   * Log a debug message\r\n   * @param {string} message - The debug message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static debug(message, data = null) {\r\n    console.debug(`${LOG_PREFIX} ${message}`, data || '');\r\n  }\r\n\r\n  /**\r\n   * Log a message with a specific level\r\n   * @param {string} level - The log level\r\n   * @param {string} message - The message\r\n   * @param {any} [data] - Optional additional data\r\n   */\r\n  static log(level, message, data = null) {\r\n    const logMethod = console[level.toLowerCase()] || console.log;\r\n    logMethod.call(console, `${LOG_PREFIX} [${level}] ${message}`, data || '');\r\n  }\r\n}\r\n\r\nexport { Logger };\r\n", "/**\r\n * Storage Manager for unified storage operations\r\n * @module storage\r\n */\r\n\r\nimport { STORAGE_KEYS, DEFAULT_USER_RULES } from '../config/constants.js';\r\nimport { Logger } from './logger.js';\r\n\r\n/**\r\n * StorageManager class for handling chrome.storage operations\r\n */\r\nexport class StorageManager {\r\n  /**\r\n   * Get a value from storage\r\n   * @param {string|string[]} keys - Storage key(s) to retrieve\r\n   * @returns {Promise<Object>} The stored values\r\n   */\r\n  static async get(keys) {\r\n    try {\r\n      return await chrome.storage.local.get(keys);\r\n    } catch (error) {\r\n      Logger.error('Failed to get from storage', error);\r\n      return {};\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set values in storage\r\n   * @param {Object} items - Key-value pairs to store\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async set(items) {\r\n    try {\r\n      await chrome.storage.local.set(items);\r\n      return true;\r\n    } catch (error) {\r\n      Logger.error('Failed to set storage', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove keys from storage\r\n   * @param {string|string[]} keys - Key(s) to remove\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async remove(keys) {\r\n    try {\r\n      await chrome.storage.local.remove(keys);\r\n      return true;\r\n    } catch (error) {\r\n      Logger.error('Failed to remove from storage', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the paused state\r\n   * @returns {Promise<boolean>} True if paused\r\n   */\r\n  static async getIsPaused() {\r\n    const result = await this.get(STORAGE_KEYS.IS_PAUSED);\r\n    return result[STORAGE_KEYS.IS_PAUSED] || false;\r\n  }\r\n\r\n  /**\r\n   * Set the paused state\r\n   * @param {boolean} isPaused - The paused state\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setIsPaused(isPaused) {\r\n    return await this.set({ [STORAGE_KEYS.IS_PAUSED]: isPaused });\r\n  }\r\n\r\n  /**\r\n   * Get user rules\r\n   * @returns {Promise<Object>} The user rules\r\n   */\r\n  static async getUserRules() {\r\n    const result = await this.get(STORAGE_KEYS.USER_RULES);\r\n    return result[STORAGE_KEYS.USER_RULES] || DEFAULT_USER_RULES;\r\n  }\r\n\r\n  /**\r\n   * Set user rules\r\n   * @param {Object} userRules - The user rules to save\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setUserRules(userRules) {\r\n    return await this.set({ [STORAGE_KEYS.USER_RULES]: userRules });\r\n  }\r\n\r\n  /**\r\n   * Get domain rules\r\n   * @returns {Promise<Object|null>} The domain rules or null\r\n   */\r\n  static async getDomainRules() {\r\n    const result = await this.get(STORAGE_KEYS.DOMAIN_RULES);\r\n    return result[STORAGE_KEYS.DOMAIN_RULES] || null;\r\n  }\r\n\r\n  /**\r\n   * Set domain rules\r\n   * @param {Object} domainRules - The domain rules to save\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setDomainRules(domainRules) {\r\n    return await this.set({ [STORAGE_KEYS.DOMAIN_RULES]: domainRules });\r\n  }\r\n\r\n  /**\r\n   * Get hidden count\r\n   * @returns {Promise<number>} The number of hidden items\r\n   */\r\n  static async getHiddenCount() {\r\n    const result = await this.get(STORAGE_KEYS.HIDDEN_COUNT);\r\n    return result[STORAGE_KEYS.HIDDEN_COUNT] || 0;\r\n  }\r\n\r\n  /**\r\n   * Set hidden count and items\r\n   * @param {number} count - The count of hidden items\r\n   * @param {Array<string>} items - The hidden items\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async setHiddenData(count, items) {\r\n    return await this.set({\r\n      [STORAGE_KEYS.HIDDEN_COUNT]: count,\r\n      [STORAGE_KEYS.HIDDEN_ITEMS]: items\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Get hidden items\r\n   * @returns {Promise<Array<string>>} The hidden items\r\n   */\r\n  static async getHiddenItems() {\r\n    const result = await this.get(STORAGE_KEYS.HIDDEN_ITEMS);\r\n    return result[STORAGE_KEYS.HIDDEN_ITEMS] || [];\r\n  }\r\n\r\n  /**\r\n   * Initialize storage with default values if not set\r\n   * @returns {Promise<boolean>} True if successful\r\n   */\r\n  static async initialize() {\r\n    try {\r\n      const result = await this.get(STORAGE_KEYS.USER_RULES);\r\n      if (!result[STORAGE_KEYS.USER_RULES]) {\r\n        await this.set({\r\n          [STORAGE_KEYS.USER_RULES]: DEFAULT_USER_RULES,\r\n          [STORAGE_KEYS.IS_PAUSED]: false\r\n        });\r\n      }\r\n      return true;\r\n    } catch (error) {\r\n      Logger.error('Failed to initialize storage', error);\r\n      return false;\r\n    }\r\n  }\r\n}\r\n", "/**\r\n * Helper utility functions\r\n * @module helpers\r\n */\r\n\r\nimport { PREVIEW_TEXT_LENGTH } from '../config/constants.js';\r\n\r\n/**\r\n * Escape HTML special characters to prevent XSS\r\n * @param {string} text - Text to escape\r\n * @returns {string} Escaped HTML\r\n */\r\nexport function escapeHtml(text) {\r\n  const div = document.createElement('div');\r\n  div.textContent = text;\r\n  return div.innerHTML;\r\n}\r\n\r\n/**\r\n * Truncate text to a maximum length\r\n * @param {string} text - Text to truncate\r\n * @param {number} [maxLength=PREVIEW_TEXT_LENGTH] - Maximum length\r\n * @returns {string} Truncated text\r\n */\r\nexport function truncateText(text, maxLength = PREVIEW_TEXT_LENGTH) {\r\n  if (!text || text.length <= maxLength) {\r\n    return text;\r\n  }\r\n  return text.substring(0, maxLength);\r\n}\r\n\r\n/**\r\n * Debounce a function call\r\n * @param {Function} func - Function to debounce\r\n * @param {number} delay - Delay in milliseconds\r\n * @returns {Function} Debounced function\r\n */\r\nexport function debounce(func, delay) {\r\n  let timeoutId;\r\n  return function (...args) {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => func.apply(this, args), delay);\r\n  };\r\n}\r\n\r\n/**\r\n * Format a date as ISO string for export filenames\r\n * @param {Date} [date=new Date()] - Date to format\r\n * @returns {string} Formatted date string (YYYY-MM-DD)\r\n */\r\nexport function formatDateForFilename(date = new Date()) {\r\n  return date.toISOString().slice(0, 10);\r\n}\r\n\r\n/**\r\n * Create an export data object with version and timestamp\r\n * @param {Object} userRules - User rules\r\n * @param {Object} domainRules - Domain rules\r\n * @param {string} version - Config version\r\n * @returns {Object} Export data object\r\n */\r\nexport function createExportData(userRules, domainRules, version) {\r\n  return {\r\n    version,\r\n    exportedAt: new Date().toISOString(),\r\n    userRules,\r\n    domainRules\r\n  };\r\n}\r\n\r\n/**\r\n * Parse imported data and validate structure\r\n * @param {string} jsonText - JSON text to parse\r\n * @returns {Object|null} Parsed data or null if invalid\r\n */\r\nexport function parseImportData(jsonText) {\r\n  try {\r\n    const data = JSON.parse(jsonText);\r\n    // Basic validation: ensure it's a non-null object\r\n    if (typeof data !== 'object' || data === null || Array.isArray(data)) {\r\n      return null;\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Find the target element to hide by traversing up the DOM tree\r\n * @param {Node} node - Starting text node\r\n * @param {number} maxSmall - Max text length for small element\r\n * @param {number} maxLarge - Max text length for parent element\r\n * @returns {HTMLElement|null} Target element to hide or null\r\n */\r\nexport function findTargetElement(node, maxSmall, maxLarge) {\r\n  let target = node.parentElement;\r\n  if (!target) return null;\r\n\r\n  while (target && target.innerText && target.innerText.length < maxSmall) {\r\n    if (target.parentElement && target.parentElement.innerText.length < maxLarge) {\r\n      target = target.parentElement;\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\n/**\r\n * Check if element is already hidden\r\n * @param {HTMLElement} element - Element to check\r\n * @returns {boolean} True if hidden\r\n */\r\nexport function isElementHidden(element) {\r\n  return element.style.display === 'none' || element.hasAttribute('data-privacy-hidden');\r\n}\r\n\r\n/**\r\n * Wait for DOM to be ready\r\n * @returns {Promise<void>} Resolves when DOM is ready\r\n */\r\nexport function waitForDOMReady() {\r\n  return new Promise((resolve) => {\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', resolve);\r\n    } else {\r\n      resolve();\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Send a message to the background script safely\r\n * @param {Object} message - Message to send\r\n * @returns {Promise<any>} Response or null if failed\r\n */\r\nexport async function sendMessageSafely(message) {\r\n  try {\r\n    return await chrome.runtime.sendMessage(message);\r\n  } catch (error) {\r\n    // Extension context invalidated - this is expected when extension reloads\r\n    // Don't log as it's not an actual error condition\r\n    return null;\r\n  }\r\n}\r\n", "/**\r\n * Domain configuration for the Privacy Shield extension\r\n * @module config\r\n */\r\n\r\n/**\r\n * Supported domains configuration\r\n * Each domain entry contains matching patterns, selectors, and settings\r\n * @constant {Object}\r\n */\r\nexport const SUPPORTED_DOMAINS = {\r\n  google: {\r\n    name: 'Google Search',\r\n    matches: ['www.google.com', 'www.google.co.jp'],\r\n    enabled: true,\r\n    selectors: ['.O4T6Pe', '.vqkKIe', '.eKPi4', 'update-location', '.dfB0uf']\r\n  },\r\n  gemini: {\r\n    name: 'Google Gemini',\r\n    matches: ['gemini.google.com'],\r\n    enabled: true,\r\n    selectors: ['location-footer', '.location-menu-item-container']\r\n  },\r\n  amazon: {\r\n    name: 'Amazon.co.jp',\r\n    matches: ['www.amazon.co.jp'],\r\n    enabled: true,\r\n    selectors: [\r\n      '#nav-global-location-popover-link',\r\n      '#glow-ingress-block',\r\n      '#contextualIngressPtLink',\r\n      '#contextualIngressPtLabel',\r\n      '#contextualIngressPtLabel_deliveryShortLine',\r\n      '.insert-encrypted-trigger-text'\r\n    ]\r\n  }\r\n};\r\n\r\n/**\r\n * Domain display name mappings for friendly names\r\n * @constant {Object}\r\n */\r\nexport const DOMAIN_DISPLAY_NAMES = {\r\n  'gemini.google.com': 'Google Gemini',\r\n  'google.com': 'Google Search',\r\n  'google.co.jp': 'Google Search',\r\n  'amazon.co.jp': 'Amazon.co.jp'\r\n};\r\n\r\n/**\r\n * List of supported domain patterns for quick checks\r\n * @constant {Array<string>}\r\n */\r\nexport const SUPPORTED_DOMAIN_PATTERNS = Object.values(SUPPORTED_DOMAINS).flatMap(d => d.matches);\r\n\r\n/**\r\n * Get the display name for a given domain\r\n * @param {string} domain - The domain hostname\r\n * @returns {string} The friendly display name or the original domain\r\n */\r\nexport function getDomainDisplayName(domain) {\r\n  for (const [key, value] of Object.entries(DOMAIN_DISPLAY_NAMES)) {\r\n    if (domain.includes(key)) {\r\n      return value;\r\n    }\r\n  }\r\n  return domain;\r\n}\r\n\r\n/**\r\n * Check if a domain is supported\r\n * @param {string} domain - The domain hostname\r\n * @returns {boolean} True if the domain is supported\r\n */\r\nexport function isSupportedDomain(domain) {\r\n  return SUPPORTED_DOMAIN_PATTERNS.some(pattern => domain.includes(pattern));\r\n}\r\n", "/**\r\n * Popup UI script for Privacy Shield extension\r\n * Manages the extension popup interface and status display\r\n * @module popup\r\n */\r\n\r\nimport { StorageManager } from '../utils/storage.js';\r\nimport { Logger } from '../utils/logger.js';\r\nimport { escapeHtml } from '../utils/helpers.js';\r\nimport { getDomainDisplayName, isSupportedDomain } from '../config/config.js';\r\n\r\n/**\r\n * Initialize popup UI\r\n */\r\nconst init = async () => {\r\n  try {\r\n    const elements = getUIElements();\r\n    const tab = await getCurrentTab();\r\n    \r\n    setupDomainInfo(elements, tab);\r\n    await loadState(elements);\r\n    setupEventListeners(elements);\r\n    setupStorageListener(elements);\r\n  } catch (error) {\r\n    Logger.error('Failed to initialize popup', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Get all UI element references\r\n * @returns {Object} Object containing UI element references\r\n */\r\nconst getUIElements = () => {\r\n  return {\r\n    globalToggle: document.getElementById('globalToggle'),\r\n    statusCard: document.getElementById('statusCard'),\r\n    statusDot: document.getElementById('statusDot'),\r\n    statusText: document.getElementById('statusText'),\r\n    hiddenCount: document.getElementById('hiddenCount'),\r\n    currentDomain: document.getElementById('currentDomain'),\r\n    domainStatus: document.getElementById('domainStatus'),\r\n    expandBtn: document.getElementById('expandBtn'),\r\n    hiddenList: document.getElementById('hiddenList'),\r\n    blurOverlay: document.getElementById('blurOverlay'),\r\n    revealBtn: document.getElementById('revealBtn'),\r\n    itemsContent: document.getElementById('itemsContent'),\r\n    openSettings: document.getElementById('openSettings')\r\n  };\r\n};\r\n\r\n/**\r\n * Get the current active tab\r\n * @returns {Promise<Object>} Current tab object\r\n */\r\nconst getCurrentTab = async () => {\r\n  const [tab] = await chrome.tabs.query({ active: true, currentWindow: true });\r\n  return tab;\r\n};\r\n\r\n/**\r\n * Setup domain information display\r\n * @param {Object} elements - UI elements\r\n * @param {Object} tab - Current tab\r\n */\r\nconst setupDomainInfo = (elements, tab) => {\r\n  try {\r\n    const url = new URL(tab.url);\r\n    const tabDomain = url.hostname.replace('www.', '');\r\n\r\n    // Set display name\r\n    const displayName = getDomainDisplayName(tabDomain);\r\n    elements.currentDomain.textContent = displayName;\r\n\r\n    // Setup favicon\r\n    setupFavicon(tab.favIconUrl);\r\n\r\n    // Check if domain is supported\r\n    const isSupported = isSupportedDomain(tabDomain);\r\n    if (!isSupported) {\r\n      elements.domainStatus.classList.add('unsupported');\r\n      elements.domainStatus.querySelector('.domain-badge').textContent = '\u672A\u5BFE\u5FDC';\r\n    }\r\n  } catch (error) {\r\n    Logger.warn('Failed to setup domain info', error);\r\n    elements.currentDomain.textContent = '\u4E0D\u660E';\r\n    elements.domainStatus.classList.add('unsupported');\r\n    elements.domainStatus.querySelector('.domain-badge').textContent = '\u4E0D\u660E';\r\n  }\r\n};\r\n\r\n/**\r\n * Setup favicon display\r\n * @param {string} faviconUrl - Favicon URL from tab\r\n */\r\nconst setupFavicon = (faviconUrl) => {\r\n  const domainIconContainer = document.querySelector('.domain-icon');\r\n  \r\n  if (faviconUrl) {\r\n    domainIconContainer.innerHTML = `<img src=\"${faviconUrl}\" alt=\"favicon\">`;\r\n  } else {\r\n    domainIconContainer.innerHTML = `\r\n      <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n        <path d=\"M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z\" />\r\n      </svg>\r\n    `;\r\n  }\r\n};\r\n\r\n/**\r\n * Load state from storage\r\n * @param {Object} elements - UI elements\r\n */\r\nconst loadState = async (elements) => {\r\n  try {\r\n    const isPaused = await StorageManager.getIsPaused();\r\n    const count = await StorageManager.getHiddenCount();\r\n    const hiddenItems = await StorageManager.getHiddenItems();\r\n\r\n    elements.globalToggle.checked = !isPaused;\r\n    updateStatusUI(elements, !isPaused);\r\n    elements.hiddenCount.textContent = count || 0;\r\n\r\n    if (hiddenItems && hiddenItems.length > 0) {\r\n      renderHiddenItems(elements.itemsContent, hiddenItems);\r\n    }\r\n  } catch (error) {\r\n    Logger.error('Failed to load state', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Update status UI based on active state\r\n * @param {Object} elements - UI elements\r\n * @param {boolean} isActive - Whether protection is active\r\n */\r\nconst updateStatusUI = (elements, isActive) => {\r\n  if (isActive) {\r\n    elements.statusCard.classList.remove('paused');\r\n    elements.statusText.textContent = '\u4FDD\u8B77\u4E2D';\r\n  } else {\r\n    elements.statusCard.classList.add('paused');\r\n    elements.statusText.textContent = '\u4E00\u6642\u505C\u6B62';\r\n  }\r\n};\r\n\r\n/**\r\n * Render hidden items list\r\n * @param {HTMLElement} container - Container element\r\n * @param {Array<string>} items - Hidden items\r\n */\r\nconst renderHiddenItems = (container, items) => {\r\n  if (!items || items.length === 0) {\r\n    container.innerHTML = '<p class=\"no-items\">\u96A0\u853D\u3055\u308C\u305F\u30A2\u30A4\u30C6\u30E0\u306F\u3042\u308A\u307E\u305B\u3093</p>';\r\n    return;\r\n  }\r\n\r\n  container.innerHTML = items\r\n    .map(item => `<div class=\"hidden-item\">${escapeHtml(item)}</div>`)\r\n    .join('');\r\n};\r\n\r\n/**\r\n * Setup event listeners\r\n * @param {Object} elements - UI elements\r\n */\r\nconst setupEventListeners = (elements) => {\r\n  // Toggle protection on/off\r\n  elements.globalToggle.addEventListener('change', async (e) => {\r\n    const isActive = e.target.checked;\r\n    await StorageManager.setIsPaused(!isActive);\r\n    updateStatusUI(elements, isActive);\r\n    \r\n    if (!isActive) {\r\n      chrome.action.setBadgeText({ text: '' });\r\n    }\r\n  });\r\n\r\n  // Expand/collapse hidden items list\r\n  elements.expandBtn.addEventListener('click', () => {\r\n    const isExpanded = elements.hiddenList.classList.toggle('show');\r\n    elements.expandBtn.classList.toggle('expanded', isExpanded);\r\n  });\r\n\r\n  // Reveal blurred content\r\n  elements.revealBtn.addEventListener('click', () => {\r\n    elements.blurOverlay.classList.add('hidden');\r\n  });\r\n\r\n  // Open settings page\r\n  elements.openSettings.addEventListener('click', () => {\r\n    chrome.runtime.openOptionsPage();\r\n  });\r\n};\r\n\r\n/**\r\n * Setup storage change listener\r\n * @param {Object} elements - UI elements\r\n */\r\nconst setupStorageListener = (elements) => {\r\n  chrome.storage.onChanged.addListener((changes, area) => {\r\n    if (area !== 'local') return;\r\n\r\n    if (changes.hiddenCount) {\r\n      elements.hiddenCount.textContent = changes.hiddenCount.newValue || 0;\r\n    }\r\n\r\n    if (changes.hiddenItems) {\r\n      renderHiddenItems(elements.itemsContent, changes.hiddenItems.newValue || []);\r\n    }\r\n  });\r\n};\r\n\r\n// Initialize when DOM is ready\r\ndocument.addEventListener('DOMContentLoaded', init);\r\n"],
  "mappings": "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",
  "names": []
}
